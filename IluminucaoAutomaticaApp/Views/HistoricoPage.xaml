<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:componentes="clr-namespace:IluminucaoAutomaticaApp.Views.Componentes"
             xmlns:viewmodels="clr-namespace:IluminucaoAutomaticaApp.ViewModels"
             x:Class="IluminucaoAutomaticaApp.Views.HistoricoPage"
             BackgroundColor="#e7edf8"
             NavigationPage.HasNavigationBar="False">

    <ContentPage.BindingContext>
        <viewmodels:HistoricoPageViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Spacing="15">
            <componentes:CabecalhoView />

            <Label Text="Histórico Lâmpada Ativa"
                   FontSize="25"
                   FontAttributes="Bold"
                   TextColor="Black"
                   HorizontalOptions="Center"
                   Margin="0,10"/>

            <CollectionView ItemsSource="{Binding Historico}"
                            Margin="30,0"
                            HorizontalOptions="Fill">

                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical"/>
                </CollectionView.ItemsLayout>

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="#3a79ff"
                               BorderColor="DarkSlateGray"
                               CornerRadius="20"
                               Padding="15"
                               Margin="0,10">

                            <VerticalStackLayout Spacing="10" HorizontalOptions="Center">
                                <Label Text="{Binding Acao, StringFormat='Ação: {0}'}"
                                       TextColor="White"
                                       FontSize="19"
                                       HorizontalOptions="Center"
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding OrigemAcao, StringFormat='Origem da Ação: {0}'}"
                                       TextColor="White"
                                       HorizontalOptions="Center"
                                       FontSize="18"
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding MomentoAcao, StringFormat='Momento da Ação:'}"
                                       TextColor="White"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       LineBreakMode="WordWrap"/>
                                <Label Text="{Binding MomentoAcao, StringFormat='{0}'}"
                                       TextColor="White"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       HorizontalTextAlignment="Center"
                                       VerticalTextAlignment="Center"
                                       LineBreakMode="WordWrap"/>
                            </VerticalStackLayout>

                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>